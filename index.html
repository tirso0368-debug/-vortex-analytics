<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Login — Detectar IA</title>
</head>
<body>

<h2>Login / Registro</h2>

<input type="email" id="email" placeholder="Email">
<input type="password" id="password" placeholder="Contraseña">

<button onclick="login()">Entrar</button>
<button onclick="register()">Registrarse</button>

<p id="msg"></p>

<script type="module">
import { createClient } from "https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm"

const supabase = createClient(
  "https://zajtohneourkrqtqtobq.supabase.co",
  "sb_publishable_jlPvHDt6scrsSn_ERTqkEA_YI--0147"
)

window.login = async () => {
  const email = document.getElementById("email").value
  const password = document.getElementById("password").value

  const { error } = await supabase.auth.signInWithPassword({
    email,
    password
  })

  if (error) {
    msg.innerText = error.message
  } else {
    window.location.href = "preguntas.html"
  }
}

window.register = async () => {
  const email = document.getElementById("email").value
  const password = document.getElementById("password").value

  const { error } = await supabase.auth.signUp({
    email,
    password
  })

  if (error) {
    msg.innerText = error.message
  } else {
    msg.innerText = "Cuenta creada. Ahora inicia sesión."
  }
}
</script>

</body>
</html>



